{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","containers/profile/Profile.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Profile","updateUserState","user","setShowProfile","name","entries","joined","age","pet","useState","userData","setUserData","updateProfile","fetch","method","headers","Accept","authorization","getToken","body","JSON","stringify","then","res","json","data","closeModal","error","route","catch","console","log","onInputChangeHandler","e","field","className","Card","classnames","onClick","src","alt","Date","toLocaleDateString","onSubmit","preventDefault","htmlFor","onChange","type","id","style","backgroundColor"],"mappings":"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","file":"static/js/4.a9feb2ff.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useState } from \"react\";\nimport Card from \"../../components/card/Card\";\nimport { getToken } from \"../../utility/helperFunctions\";\nimport \"./Profile.styles.css\";\n\nconst Profile = ({ updateUserState, user, setShowProfile }) => {\n  const { name, entries, joined, age, pet } = user;\n\n  const [userData, setUserData] = useState({\n    name,\n    age: age ? +age : 0,\n    pet: pet ? pet : \"\",\n  });\n\n  const onSubmitHandler = (e) => {\n    e.preventDefault();\n\n    if (!userData.name) return;\n\n    updateProfile(userData);\n  };\n\n  const updateProfile = ({ name, age, pet }) => {\n    if (!name) return;\n\n    fetch(\"https://smartbrainapi-u3ff.onrender.com/api/profile\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${getToken()}`,\n      },\n      body: JSON.stringify({ name, age: +age, pet }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        closeModal();\n        if (data.error) {\n          return updateUserState({ error: data.error, user, route: \"home\" });\n        }\n\n        return updateUserState({ error: \"\", user: data.user, route: \"home\" });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const onInputChangeHandler = (e) => {\n    const field = e.target.name;\n    const value = e.target.value;\n    setUserData({ ...userData, [field]: value });\n  };\n\n  const closeModal = () => {\n    setShowProfile(false);\n  };\n\n  return (\n    <>\n      <div className=\"profile-background-container\"></div>\n      <div className=\"profile-container\">\n        <Card classnames=\"profile-card\">\n          <span onClick={closeModal} className=\"close-modal\">\n            &times;\n          </span>\n          <div>\n            <img\n              className=\"avatar\"\n              src=\"https://tachyons.io/img/logo.jpg\"\n              alt=\"avatar\"\n            />\n\n            <p>{userData && userData.name}</p>\n            <p>{`Images Submitted: ${entries}`}</p>\n            <p>\n              {joined &&\n                `Member since: ${new Date(joined).toLocaleDateString()}`}\n            </p>\n          </div>\n          <hr />\n\n          <div className=\"profile-input\">\n            <form onSubmit={onSubmitHandler}>\n              <div className=\"form-item\">\n                <label htmlFor=\"name\">\n                  <h4>Name:</h4>\n                </label>\n                <input\n                  onChange={onInputChangeHandler}\n                  type=\"text\"\n                  name=\"name\"\n                  id=\"name\"\n                  value={userData.name}\n                />\n              </div>\n\n              <div className=\"form-item\">\n                <label htmlFor=\"age\">\n                  <h4>Age:</h4>\n                </label>\n                <input\n                  onChange={onInputChangeHandler}\n                  type=\"number\"\n                  name=\"age\"\n                  id=\"age\"\n                  value={+userData.age}\n                />\n              </div>\n\n              <div className=\"form-item\">\n                <label htmlFor=\"pet\">\n                  <h4>Pet:</h4>\n                </label>\n                <input\n                  onChange={onInputChangeHandler}\n                  type=\"text\"\n                  name=\"pet\"\n                  id=\"pet\"\n                  value={userData.pet}\n                />\n              </div>\n              <div className=\"profile-button\">\n                <button\n                  type=\"submit\"\n                  style={{ backgroundColor: \"rgb(116, 248, 255)\" }}\n                >\n                  <h4>Save</h4>\n                </button>\n\n                <button\n                  onClick={closeModal}\n                  style={{ backgroundColor: \"orangered\" }}\n                >\n                  <h4>Cancel</h4>\n                </button>\n              </div>\n            </form>\n          </div>\n        </Card>\n      </div>\n    </>\n  );\n};\n\nexport default Profile;\n"],"sourceRoot":""}